<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>手机壳DIY编辑器 2.0</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <aside>
    <h1>选择机型</h1>
    <select id="deviceSelect"></select>

    <h1>素材库（拖到画布）</h1>
    <div class="palette" id="palette"></div>
    <div class="hint">
      2.1
      电脑：拖动；按 <span class="kbd">R</span> 并在对象上拖动旋转；滚轮缩放；Delete删除。<br/>
      手机：单指拖动；两指捏合缩放；两指扭动旋转。
    </div>
  </aside>

  <main>
    <div class="stage-wrap">
      <canvas id="stage" width="420" height="820" tabindex="0" aria-label="手机壳设计画布"></canvas>
      <div class="hud">
        <div class="btns">
          <button class="btn" id="btnClear">清空</button>
          <button class="btn" id="btnSave">保存工程</button>
          <button class="btn" id="btnLoad">载入工程</button>
        </div>
        <div class="btns">
          <button class="btn primary" id="btnExport">导出 PNG</button>
        </div>
      </div>
    </div>
  </main>

  <div class="rightbar">
    <h1>对象属性</h1>
    <div class="field">
      <label>缩放（选中或滚轮）：<span id="scaleVal">1.00×</span></label>
      <input type="range" id="scaleRange" min="0.3" max="3" step="0.01" value="1">
    </div>
    <div class="field toggle">
      <input type="checkbox" id="snapToggle" checked>
      <label for="snapToggle">贴靠对齐（中心线 + 10px 网格；旋转吸附 15°）</label>
    </div>
    <div class="field toggle">
      <input type="checkbox" id="rotateMode">
      <label for="rotateMode">旋转模式（不用按 R，拖动即旋转）</label>
    </div>
    <div class="hint small">机型切换仅影响外框/可印区/开孔；图层不会丢失。</div>
  </div>

  <!-- 入口脚本（必须用模块） -->
  <script type="module" src="./js/main.js"></script>
</body>
</html>

