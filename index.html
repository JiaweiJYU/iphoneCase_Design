<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>手机壳DIY编辑器（桌面版 / 无ESM）</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <aside>
    <h1>选择机型 V3.1</h1>
    <select id="deviceSelect"></select>

    <h1>素材库（拖到画布）</h1>
    <div class="palette" id="palette"></div>
    <div class="hint">
      鼠标拖动移动；按住 <span class="kbd">R</span> 再拖动旋转（支持拖动中随时按/松 R 切换）；<br/>
      勾“旋转模式”免按 R；滚轮缩放；Delete 删除。
    </div>
  </aside>

  <main>
    <div class="stage-wrap">
      <canvas id="stage" width="420" height="820" tabindex="0" aria-label="手机壳设计画布"></canvas>
      <div class="hud">
        <div class="btns">
          <button class="btn" id="btnClear">清空</button>
          <button class="btn" id="btnSave">保存工程</button>
          <button class="btn" id="btnLoad">载入工程</button>
        </div>
        <div class="btns">
          <button class="btn primary" id="btnExport">导出 PNG</button>
        </div>
      </div>
    </div>
  </main>

  <div class="rightbar">
    <h1>对象属性</h1>
    <div class="field">
      <label>缩放（选中或滚轮）：<span id="scaleVal">1.00×</span></label>
      <input type="range" id="scaleRange" min="0.3" max="3" step="0.01" value="1">
    </div>
    <div class="field toggle">
      <input type="checkbox" id="snapToggle" checked>
      <label for="snapToggle">贴靠对齐（中心线+10px 网格；旋转吸附15°）</label>
    </div>
    <div class="field toggle">
      <input type="checkbox" id="rotateMode">
      <label for="rotateMode">旋转模式（不按 R，拖动即旋转）</label>
    </div>
    <div class="hint small">图层快捷键： [ 后移 / ] 前移 / Home 置顶 / End 置底</div>
  </div>

  <!-- 顺序很重要：工具 → 数据 → 功能 → 主入口 -->
  <script src="./js/utils.js"></script>
  <script src="./js/state.js"></script>
  <script src="./js/devices.js"></script>
  <script src="./js/canvasSetup.js"></script>
  <script src="./js/snapping.js"></script>
  <script src="./js/rotation.js"></script>
  <script src="./js/render.js"></script>
  <script src="./js/palette.js"></script>
  <script src="./js/interactions.js"></script>
  <script src="./js/storage.js"></script>
  <script src="./js/exporter.js"></script>
  <script src="./js/main.js"></script>
</body>
</html>



